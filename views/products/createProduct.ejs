<%- include('../partials/head') %>
<%- include('../partials/header') %>

<main>
  <section class="container">
    <h1>Crear nuevo producto</h1>

    <form action="/products" method="POST" enctype="multipart/form-data">
      <input type="text" name="name" placeholder="Nombre del producto" required />

      <textarea name="description" placeholder="Descripción" required></textarea>

      <label for="image">Imagen del producto:</label>
      <input type="file" name="image" accept="image/*" />

      <!-- Categoría (select) -->
      <label for="category">Categoría:</label>
      <select name="category" required>
        <option value="" disabled selected>Seleccione una categoría</option>
        <% categories.forEach(cat => { %>
        <option value="<%= cat.productCategoryId %>"><%= cat.name %></option>
        <% }) %>
      </select>

      <!-- Color (select) -->
      <label for="colors">Color:</label>
      <select name="colors" required>
        <option value="" disabled selected>Seleccione un color</option>
        <% colors.forEach(color => { %>
        <option value="<%= color.productColorId %>"><%= color.name %></option>
        <% }) %>
      </select>

      <input type="number" step="0.01" name="price" placeholder="Precio" required />
      <input type="number" step="0.01" name="promotionalPrice" placeholder="Precio promocional" />
      <input type="number" name="stock" placeholder="Stock disponible" required />

      <button type="submit">Crear producto</button>
    </form>
  </section>
</main>

<%- include('../partials/footer') %>
