<%- include('../partials/head') %>
<%- include('../partials/header') %>

<main class="container-fluid">
  <section class="catalog-container">
    <!-- Aside de categorías -->
    <aside class="catalog-sidebar">
      <h2 class="sidebar-title">Categorías</h2>
      <ul class="sidebar-list">
        <li><a href="#">Peluches</a></li>
        <li><a href="#">Juguetes</a></li>
        <li><a href="#">Muñecas</a></li>
        <li><a href="#">Personajes</a></li>
      </ul>
    </aside>

    <!-- Grilla de productos -->
    <article class="catalog-products">

      <% products.forEach(product => { %>
      <div class="product-card">
        <a href="/products/details/<%= product.productId %>">
          <img src="<%= product.image %>" alt="<%= product.name %>" />
        </a>
        <div class="product-info">
          <a href="/products/details/<%= product.productId %>">
            <h3 class="product-name"><%= product.name %></h3>
          </a>
          <% if (product.category) { %>
          <p class="product-category"><%= product.category.name %></p>
          <% } %>
          <p class="product-price">
            <% if (product.promotionalPrice > 0) { %>
            <span class="product-price-offer">Gs. <%= product.promotionalPrice %></span>
            <span class="product-price-old">Gs. <%= product.price %></span>
            <% } else { %>
            Gs. <%= product.price %>
            <% } %>
          </p>
          <button class="product-button">Agregar al carrito</button>
        </div>
      </div>
      <% }) %>

    </article>
  </section>
</main>

<%- include('../partials/footer') %>
